{"ast":null,"code":"import React,{useState}from\"react\";import Nv from\"./topnav\";import{Link}from\"react-router-dom\";import{useNavigate}from\"react-router-dom\";import{getAuth,signInWithEmailAndPassword}from\"firebase/auth\";import{initializeApp}from\"firebase/app\";import{getAnalytics}from\"firebase/analytics\";import'firebase/auth';import load from\"./load.gif\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const firebaseConfig={apiKey:\"AIzaSyC2YMy095m2EJdE6Zg4MVb7JXqLKM8EW2Y\",authDomain:\"billinginv-78309.firebaseapp.com\",projectId:\"billinginv-78309\",storageBucket:\"billinginv-78309.appspot.com\",messagingSenderId:\"78167947791\",appId:\"1:78167947791:web:f4695c7d5a25ca0f91417a\",measurementId:\"G-SJ1BGYHR12\"};const app=initializeApp(firebaseConfig);const auth=getAuth();const Login=()=>{const[fdata,setfdata]=useState({email:\"\",passwd:\"\"});const navv=useNavigate();const handlefdata=e=>{const{name,value}=e.target;setfdata({...fdata,[name]:value});};const[restxt,setrstext]=useState(\"\");const handlesubmit=e=>{e.preventDefault();setrstext(/*#__PURE__*/_jsx(\"img\",{src:load,height:\"80px\"}));signInWithEmailAndPassword(auth,fdata.email,fdata.passwd).then(userCredential=>{setrstext(\"Login Successfull\");const user=userCredential.user;localStorage.setItem(\"uuid\",user.uid);// console.log(user);\nsetTimeout(()=>{navv(\"/home\",{state:{userid:fdata.username}});localStorage.setItem(\"userid\",user.displayName);},500);}).catch(error=>{const errorCode=error.code;const errorMessage=error.message;console.log(errorCode);setrstext(\"Please check your credentials\");});//   fetch(\"http://localhost:5000/login\", {\n//     method: \"POST\",\n//     body: JSON.stringify(fdata),\n//     headers: {\n//       \"Content-Type\": \"application/json\",\n//     },\n//   })\n//     .then((r) => r.text())\n//     .then((d) => {\n//       setrstext(d);\n//       // if (d === \"Login Successfull\") {\n//       //   navv(`/`, { state: { userid: fdata.username } });\n//       //   localStorage.setItem(\"userid\", fdata.username);\n//       // }\n//     })\n//     .catch((e) => console.log(e));\n// };\n};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nv,{}),/*#__PURE__*/_jsxs(\"form\",{className:\"logn\",onSubmit:handlesubmit,style:{display:\"flex\",flexDirection:\"column\",margin:\"5% auto\",padding:\"20px\",boxShadow:\"5px 5px 10px rgba(0, 0, 0, 0.3)\",borderRadius:\"10px\"},children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",style:{marginBottom:\"8px\"},children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",placeholder:\"Enter your email address\",required:true,onChange:handlefdata,value:fdata.email,style:{padding:\"10px\",marginBottom:\"16px\",borderRadius:\"5px\"}}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"passwd\",style:{marginBottom:\"8px\"},children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"passwd\",placeholder:\"Enter your password\",required:true,onChange:handlefdata,value:fdata.passwd,style:{padding:\"10px\",marginBottom:\"16px\",borderRadius:\"5px\"}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{width:\"fit-content\",margin:\"auto\",padding:\"10px 20px\",backgroundColor:\"orange\",color:\"white\",border:\"none\",borderRadius:\"5px\",cursor:\"pointer\"},children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Don't have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Signup\"})]}),restxt&&/*#__PURE__*/_jsx(\"p\",{style:{margin:\"auto\",backgroundColor:\"blue\",borderRadius:\"10px\",padding:\"8px 16px\",color:\"white\"},children:restxt})]})]});};export default Login;","map":{"version":3,"names":["React","useState","Nv","Link","useNavigate","getAuth","signInWithEmailAndPassword","initializeApp","getAnalytics","load","jsx","_jsx","jsxs","_jsxs","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","Login","fdata","setfdata","email","passwd","navv","handlefdata","e","name","value","target","restxt","setrstext","handlesubmit","preventDefault","src","height","then","userCredential","user","localStorage","setItem","uid","setTimeout","state","userid","username","displayName","catch","error","errorCode","code","errorMessage","message","console","log","children","className","onSubmit","style","display","flexDirection","margin","padding","boxShadow","borderRadius","htmlFor","marginBottom","type","placeholder","required","onChange","width","backgroundColor","color","border","cursor","to"],"sources":["C:/Users/ojas2/OneDrive/Desktop/task-scheduler/src/components/login.jsx"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Nv from \"./topnav\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { getAuth, signInWithEmailAndPassword } from \"firebase/auth\";\r\nimport { initializeApp} from \"firebase/app\";\r\nimport { getAnalytics } from \"firebase/analytics\";\r\nimport 'firebase/auth';\r\nimport load from \"./load.gif\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyC2YMy095m2EJdE6Zg4MVb7JXqLKM8EW2Y\",\r\n  authDomain: \"billinginv-78309.firebaseapp.com\",\r\n  projectId: \"billinginv-78309\",\r\n  storageBucket: \"billinginv-78309.appspot.com\",\r\n  messagingSenderId: \"78167947791\",\r\n  appId: \"1:78167947791:web:f4695c7d5a25ca0f91417a\",\r\n  measurementId: \"G-SJ1BGYHR12\"\r\n};\r\n\r\nconst app = initializeApp(firebaseConfig);\r\nconst auth = getAuth();\r\n\r\nconst Login = () => {\r\n  const [fdata, setfdata] = useState({ email: \"\", passwd: \"\" });\r\n  const navv = useNavigate();\r\n\r\n  const handlefdata = (e) => {\r\n    const { name, value } = e.target;\r\n    setfdata({ ...fdata, [name]: value });\r\n  };\r\n\r\n  const [restxt, setrstext] = useState(\"\");\r\n\r\n  const handlesubmit = (e) => {\r\n    e.preventDefault();\r\n    setrstext(<img src={load} height={\"80px\"} />);\r\n    signInWithEmailAndPassword(auth, fdata.email, fdata.passwd)\r\n    .then((userCredential) => {\r\n\r\n      setrstext(\"Login Successfull\");\r\n      const user = userCredential.user;\r\n      localStorage.setItem(\"uuid\", user.uid);\r\n      // console.log(user);\r\n      setTimeout(() => {\r\n        navv(`/home`, { state: { userid: fdata.username } });\r\n        localStorage.setItem(\"userid\", user.displayName);\r\n      }, 500);\r\n\r\n    })\r\n    .catch((error) => {\r\n      const errorCode = error.code;\r\n      const errorMessage = error.message;\r\n      console.log(errorCode);\r\n      setrstext(\"Please check your credentials\")\r\n    });\r\n\r\n  //   fetch(\"http://localhost:5000/login\", {\r\n  //     method: \"POST\",\r\n  //     body: JSON.stringify(fdata),\r\n  //     headers: {\r\n  //       \"Content-Type\": \"application/json\",\r\n  //     },\r\n  //   })\r\n  //     .then((r) => r.text())\r\n  //     .then((d) => {\r\n  //       setrstext(d);\r\n  //       // if (d === \"Login Successfull\") {\r\n  //       //   navv(`/`, { state: { userid: fdata.username } });\r\n  //       //   localStorage.setItem(\"userid\", fdata.username);\r\n  //       // }\r\n  //     })\r\n  //     .catch((e) => console.log(e));\r\n  // };\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Nv />\r\n      <form className=\"logn\"\r\n        onSubmit={handlesubmit}\r\n        style={{display: \"flex\", flexDirection: \"column\",margin: \"5% auto\",padding: \"20px\",boxShadow: \"5px 5px 10px rgba(0, 0, 0, 0.3)\",\r\n          borderRadius: \"10px\",\r\n        }}\r\n      >\r\n        <label htmlFor=\"email\" style={{ marginBottom: \"8px\" }}>\r\n          Email\r\n        </label>\r\n        <input type=\"email\" name=\"email\" placeholder=\"Enter your email address\" required={true} onChange={handlefdata} value={fdata.email}\r\n          style={{ padding: \"10px\", marginBottom: \"16px\", borderRadius: \"5px\" }}\r\n        />\r\n        <label htmlFor=\"passwd\" style={{ marginBottom: \"8px\" }}>\r\n          Password\r\n        </label>\r\n        <input\r\n          type=\"password\"\r\n          name=\"passwd\"\r\n          placeholder=\"Enter your password\"\r\n          required={true}\r\n          onChange={handlefdata}\r\n          value={fdata.passwd}\r\n          style={{ padding: \"10px\", marginBottom: \"16px\", borderRadius: \"5px\" }}\r\n        />\r\n        <button\r\n          type=\"submit\"\r\n          style={{width: \"fit-content\", margin: \"auto\", padding: \"10px 20px\", backgroundColor: \"orange\",color: \"white\", border: \"none\",borderRadius: \"5px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Login\r\n        </button>\r\n        <p>\r\n          Don't have an account? <Link to=\"/signup\">Signup</Link>\r\n        </p>\r\n        {restxt && <p style={{margin: \"auto\", backgroundColor :\"blue\", borderRadius : \"10px\", padding : \"8px 16px\", color :\"white\"}}>{restxt}</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}