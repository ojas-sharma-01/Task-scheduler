{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./tasklist.css\";import del from\"./delete.svg\";import complete from\"./complete.svg\";import undo from\"./undo.png\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const TaskList=()=>{const[task,setTasks]=useState([]);const gettask=()=>{fetch(\"https://task-scheduler-kt4g.onrender.com/getall\",{method:\"POST\",body:JSON.stringify({\"uuid\":localStorage.getItem(\"uuid\")}),headers:{\"Content-Type\":\"application/json\"}}).then(r=>r.json()).then(d=>{setTasks(d);}).catch(e=>{console.log(e);});};const handleDeleteTask=id=>{fetch(\"https://task-scheduler-kt4g.onrender.com/deltask\",{method:\"POST\",body:JSON.stringify({\"uuid\":localStorage.getItem(\"uuid\"),\"id\":id}),headers:{\"Content-Type\":\"application/json\"}}).then(r=>r.text()).then(()=>{gettask();}).catch(e=>{console.log(e);});};useEffect(()=>{gettask();},[]);const[newTask,setNewTask]=useState(\"\");const handleAddTask=()=>{if(newTask.trim()!==\"\"){const newId=task.length>0?task[task.length-1]._id+1:1;setTasks([...task,{_id:newId,task_heading:newTask,completed:false}]);setNewTask(\"\");}};const handleToggleComplete=id=>{fetch(\"https://task-scheduler-kt4g.onrender.com/complete\",{method:\"POST\",body:JSON.stringify({\"uuid\":localStorage.getItem(\"uuid\"),\"id\":id}),headers:{\"Content-Type\":\"application/json\"}}).then(r=>r.text()).then(()=>{gettask();}).catch(e=>console.log(e));};const calccompleted=arr=>{var cnt=0;if(arr.length==0)return 0;arr.forEach(d=>{if(d.completed)cnt++;});return cnt;};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},className:\"main_div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info_div\",style:{display:\"flex\",flex:1,justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",width:\"fit-content\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"10%\",whiteSpace:\"nowrap\"},children:[\"No of tasks: \",task.length]}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"10%\",whiteSpace:\"nowrap\"},children:[\"Completed: \",calccompleted(task)]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"div\",{className:\"task-list\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Tasks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"add-task\",style:{justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Link,{to:\"/addtask\",style:{backgroundColor:\"#fca311\",padding:\"4px\",borderRadius:\"4px\",color:\"white\"},children:\"Add Task\"})}),/*#__PURE__*/_jsx(\"ul\",{children:task.map(task=>/*#__PURE__*/_jsxs(\"li\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Link,{to:\"/task/\".concat(task._id),children:/*#__PURE__*/_jsx(\"div\",{style:{textDecoration:task.completed?\"line-through\":\"none\",wordBreak:\"break-word\"},children:task.task_heading})}),/*#__PURE__*/_jsxs(\"div\",{children:[task.completed?/*#__PURE__*/_jsx(\"img\",{className:\"ii\",src:undo,height:\"50px\",onClick:()=>handleToggleComplete(task._id)}):/*#__PURE__*/_jsx(\"img\",{className:\"ii\",src:complete,onClick:()=>handleToggleComplete(task._id)}),/*#__PURE__*/_jsx(\"img\",{className:\"ii\",src:del,height:\"50px\",style:{marginLeft:\"10px\"},onClick:()=>handleDeleteTask(task._id)})]})]},task._id))})]})})]});};export default TaskList;","map":{"version":3,"names":["React","useEffect","useState","del","complete","undo","Link","jsxs","_jsxs","jsx","_jsx","TaskList","task","setTasks","gettask","fetch","method","body","JSON","stringify","localStorage","getItem","headers","then","r","json","d","catch","e","console","log","handleDeleteTask","id","text","newTask","setNewTask","handleAddTask","trim","newId","length","_id","task_heading","completed","handleToggleComplete","calccompleted","arr","cnt","forEach","style","display","className","children","flex","justifyContent","alignItems","textAlign","width","margin","whiteSpace","to","backgroundColor","padding","borderRadius","color","map","concat","textDecoration","wordBreak","src","height","onClick","marginLeft"],"sources":["C:/Users/ojas2/OneDrive/Desktop/task-scheduler/src/components/task.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./tasklist.css\";\r\nimport del from \"./delete.svg\"; \r\nimport complete from \"./complete.svg\";\r\nimport undo from \"./undo.png\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst TaskList = () => {\r\n  const [task, setTasks] = useState([\r\n  ]);\r\n\r\n  const gettask = () => {\r\n    fetch(\"https://task-scheduler-kt4g.onrender.com/getall\", {\r\n      method: \"POST\",\r\n    body: JSON.stringify({\r\n      \"uuid\" : localStorage.getItem(\"uuid\"),\r\n    }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }).then(r => (r.json()))\r\n  .then(d => {\r\n    setTasks(d);\r\n  })\r\n  .catch(e => {console.log(e)});\r\n  }\r\n\r\n  const handleDeleteTask = (id) => {\r\n    fetch(\"https://task-scheduler-kt4g.onrender.com/deltask\", {\r\n      method: \"POST\",\r\n    body: JSON.stringify({\r\n      \"uuid\" : localStorage.getItem(\"uuid\"),\r\n      \"id\" : id,\r\n    }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }).then(r => (r.text()))\r\n  .then(() => {\r\n    gettask();\r\n  })\r\n  .catch(e => {console.log(e)});\r\n  };\r\n\r\n  useEffect(() => {\r\n    gettask();\r\n  }, [])\r\n\r\n  const [newTask, setNewTask] = useState(\"\");\r\n\r\n  const handleAddTask = () => {\r\n    if (newTask.trim() !== \"\") {\r\n      const newId = task.length > 0 ? task[task.length - 1]._id + 1 : 1;\r\n      setTasks([...task, { _id: newId, task_heading: newTask, completed: false }]);\r\n      setNewTask(\"\");\r\n    }\r\n  };\r\n\r\n  const handleToggleComplete = (id) => {\r\n    fetch(\"https://task-scheduler-kt4g.onrender.com/complete\",  {\r\n      method: \"POST\",\r\n    body: JSON.stringify({\r\n      \"uuid\" : localStorage.getItem(\"uuid\"),\r\n      \"id\" : id,\r\n    }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  })\r\n    .then(r => r.text())\r\n    .then(() => {\r\n      gettask();\r\n    })\r\n    .catch(e => console.log(e));\r\n  };\r\n\r\n  const calccompleted = (arr) => {\r\n    var cnt = 0;\r\n    if (arr.length == 0) return 0;\r\n    arr.forEach(d => {\r\n      if (d.completed) cnt++;\r\n    })\r\n\r\n    return cnt;\r\n  }\r\n\r\n  return (\r\n    <div style={{display : \"flex\"}} className=\"main_div\">\r\n      <div className=\"info_div\" style={{ display: \"flex\", flex : 1, justifyContent: \"center\", alignItems: \"center\" }}>\r\n        <div style={{ textAlign: \"center\" ,width : \"fit-content\"}}>\r\n          <div style={{margin : \"10%\", whiteSpace : \"nowrap\"}}>No of tasks: {task.length}</div>\r\n          <div style={{margin : \"10%\", whiteSpace : \"nowrap\"}}>Completed: {\r\n            calccompleted(task)\r\n            }</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{flex : 1}}>\r\n    <div className=\"task-list\">\r\n      <h1>Your Tasks</h1>\r\n      <div className=\"add-task\" style={{justifyContent : \"center\"}}>\r\n        {/* <input\r\n          type=\"text\"\r\n          value={newTask}\r\n          onChange={(e) => setNewTask(e.target.value)}\r\n          placeholder=\"Enter a new Task . . .\"\r\n        /> */}\r\n        <Link to=\"/addtask\" style={{backgroundColor : \"#fca311\",\r\n      padding : \"4px\", borderRadius : \"4px\",\r\n      color : \"white\",\r\n      }}>Add Task</Link>\r\n      </div>\r\n      <ul>\r\n        {task.map((task) => (\r\n          <li key={task._id} style={{\r\n            textAlign : \"right\",\r\n          }}>\r\n            <Link to={`/task/${task._id}`}><div\r\n              style={{ textDecoration: task.completed ? \"line-through\" : \"none\",\r\n            wordBreak : \"break-word\" }}\r\n            >\r\n              {task.task_heading}\r\n            </div>\r\n            </Link>\r\n            <div>\r\n                {task.completed ? <img className=\"ii\" src={undo} height={\"50px\"}\r\n                 onClick={() => handleToggleComplete(task._id)}/> \r\n                : \r\n                <img className=\"ii\" src={complete} onClick={() => handleToggleComplete(task._id)}/>}\r\n              <img className=\"ii\" src={del} height={\"50px\"} \r\n              style={{marginLeft : \"10px\"}}\r\n              onClick={() => handleDeleteTask(task._id)}/>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}