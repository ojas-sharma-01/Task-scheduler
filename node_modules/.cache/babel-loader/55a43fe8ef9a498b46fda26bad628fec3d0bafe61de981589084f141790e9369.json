{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import\"./tasklist.css\";import del from\"./delete.svg\";import complete from\"./complete.svg\";import undo from\"./undo.png\";import{Link}from\"react-router-dom\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";const TaskList=()=>{const[task,setTasks]=useState([]);const handleDeleteTask=id=>{fetch(\"https://task-scheduler-kt4g.onrender.com/deltask\",{method:\"POST\",body:JSON.stringify({\"uuid\":localStorage.getItem(\"uuid\"),\"id\":id}),headers:{\"Content-Type\":\"application/json\"}}).then(r=>r.json()).then(d=>{}).catch(e=>{console.log(e);});};useEffect(()=>{fetch(\"https://task-scheduler-kt4g.onrender.com/getall\",{method:\"POST\",body:JSON.stringify({\"uuid\":localStorage.getItem(\"uuid\")}),headers:{\"Content-Type\":\"application/json\"}}).then(r=>r.json()).then(d=>{setTasks(d);}).catch(e=>{console.log(e);});},[handleDeleteTask]);const[newTask,setNewTask]=useState(\"\");const handleAddTask=()=>{if(newTask.trim()!==\"\"){const newId=task.length>0?task[task.length-1]._id+1:1;setTasks([...task,{_id:newId,task_heading:newTask,completed:false}]);setNewTask(\"\");}};const handleToggleComplete=id=>{setTasks(task.map(task=>task._id===id?{...task,completed:!task.completed}:task));};const calccompleted=arr=>{var cnt=0;if(arr.length==0)return 0;arr.forEach(d=>{if(d.completed)cnt++;});return cnt;};return/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\"},className:\"main_div\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"info_div\",style:{display:\"flex\",flex:1,justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsxs(\"div\",{style:{textAlign:\"center\",width:\"fit-content\"},children:[/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"10%\",whiteSpace:\"nowrap\"},children:[\"No of tasks: \",task.length]}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"10%\",whiteSpace:\"nowrap\"},children:[\"Completed: \",calccompleted(task)]})]})}),/*#__PURE__*/_jsx(\"div\",{style:{flex:1},children:/*#__PURE__*/_jsxs(\"div\",{className:\"task-list\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Your Tasks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"add-task\",style:{justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Link,{to:\"/addtask\",style:{backgroundColor:\"#fca311\",padding:\"4px\",borderRadius:\"4px\",color:\"white\"},children:\"Add Task\"})}),/*#__PURE__*/_jsx(\"ul\",{children:task.map(task=>/*#__PURE__*/_jsxs(\"li\",{style:{textAlign:\"right\"},children:[/*#__PURE__*/_jsx(Link,{to:\"/task/\".concat(task._id),children:/*#__PURE__*/_jsx(\"div\",{style:{textDecoration:task.completed?\"line-through\":\"none\",wordBreak:\"break-word\"},children:task.task_heading})}),/*#__PURE__*/_jsxs(\"div\",{children:[task.completed?/*#__PURE__*/_jsx(\"img\",{className:\"ii\",src:undo,height:\"50px\",onClick:()=>handleToggleComplete(task._id)}):/*#__PURE__*/_jsx(\"img\",{className:\"ii\",src:complete,onClick:()=>handleToggleComplete(task._id)}),/*#__PURE__*/_jsx(\"img\",{className:\"ii\",src:del,height:\"50px\",style:{marginLeft:\"10px\"},onClick:()=>handleDeleteTask(task._id)})]})]},task._id))})]})})]});};export default TaskList;","map":{"version":3,"names":["React","useEffect","useState","del","complete","undo","Link","jsxs","_jsxs","jsx","_jsx","TaskList","task","setTasks","handleDeleteTask","id","fetch","method","body","JSON","stringify","localStorage","getItem","headers","then","r","json","d","catch","e","console","log","newTask","setNewTask","handleAddTask","trim","newId","length","_id","task_heading","completed","handleToggleComplete","map","calccompleted","arr","cnt","forEach","style","display","className","children","flex","justifyContent","alignItems","textAlign","width","margin","whiteSpace","to","backgroundColor","padding","borderRadius","color","concat","textDecoration","wordBreak","src","height","onClick","marginLeft"],"sources":["C:/Users/ojas2/OneDrive/Desktop/task-scheduler/src/components/task.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport \"./tasklist.css\";\r\nimport del from \"./delete.svg\"; \r\nimport complete from \"./complete.svg\";\r\nimport undo from \"./undo.png\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst TaskList = () => {\r\n  const [task, setTasks] = useState([\r\n  ]);\r\n\r\n  const handleDeleteTask = (id) => {\r\n    fetch(\"https://task-scheduler-kt4g.onrender.com/deltask\", {\r\n      method: \"POST\",\r\n    body: JSON.stringify({\r\n      \"uuid\" : localStorage.getItem(\"uuid\"),\r\n      \"id\" : id,\r\n    }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }).then(r => (r.json()))\r\n  .then(d => {\r\n  })\r\n  .catch(e => {console.log(e)});\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n    fetch(\"https://task-scheduler-kt4g.onrender.com/getall\", {\r\n      method: \"POST\",\r\n    body: JSON.stringify({\r\n      \"uuid\" : localStorage.getItem(\"uuid\"),\r\n    }),\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n  }).then(r => (r.json()))\r\n  .then(d => {\r\n    setTasks(d);\r\n  })\r\n  .catch(e => {console.log(e)});\r\n  }, [handleDeleteTask])\r\n\r\n  const [newTask, setNewTask] = useState(\"\");\r\n\r\n  const handleAddTask = () => {\r\n    if (newTask.trim() !== \"\") {\r\n      const newId = task.length > 0 ? task[task.length - 1]._id + 1 : 1;\r\n      setTasks([...task, { _id: newId, task_heading: newTask, completed: false }]);\r\n      setNewTask(\"\");\r\n    }\r\n  };\r\n\r\n  const handleToggleComplete = (id) => {\r\n    setTasks(\r\n      task.map((task) =>\r\n        task._id === id ? { ...task, completed: !task.completed } : task\r\n      )\r\n    );\r\n  };\r\n\r\n  const calccompleted = (arr) => {\r\n    var cnt = 0;\r\n    if (arr.length == 0) return 0;\r\n    arr.forEach(d => {\r\n      if (d.completed) cnt++;\r\n    })\r\n\r\n    return cnt;\r\n  }\r\n\r\n  return (\r\n    <div style={{display : \"flex\"}} className=\"main_div\">\r\n      <div className=\"info_div\" style={{ display: \"flex\", flex : 1, justifyContent: \"center\", alignItems: \"center\" }}>\r\n        <div style={{ textAlign: \"center\" ,width : \"fit-content\"}}>\r\n          <div style={{margin : \"10%\", whiteSpace : \"nowrap\"}}>No of tasks: {task.length}</div>\r\n          <div style={{margin : \"10%\", whiteSpace : \"nowrap\"}}>Completed: {\r\n            calccompleted(task)\r\n            }</div>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{flex : 1}}>\r\n    <div className=\"task-list\">\r\n      <h1>Your Tasks</h1>\r\n      <div className=\"add-task\" style={{justifyContent : \"center\"}}>\r\n        {/* <input\r\n          type=\"text\"\r\n          value={newTask}\r\n          onChange={(e) => setNewTask(e.target.value)}\r\n          placeholder=\"Enter a new Task . . .\"\r\n        /> */}\r\n        <Link to=\"/addtask\" style={{backgroundColor : \"#fca311\",\r\n      padding : \"4px\", borderRadius : \"4px\",\r\n      color : \"white\",\r\n      }}>Add Task</Link>\r\n      </div>\r\n      <ul>\r\n        {task.map((task) => (\r\n          <li key={task._id} style={{\r\n            textAlign : \"right\",\r\n          }}>\r\n            <Link to={`/task/${task._id}`}><div\r\n              style={{ textDecoration: task.completed ? \"line-through\" : \"none\",\r\n            wordBreak : \"break-word\" }}\r\n            >\r\n              {task.task_heading}\r\n            </div>\r\n            </Link>\r\n            <div>\r\n                {task.completed ? <img className=\"ii\" src={undo} height={\"50px\"}\r\n                 onClick={() => handleToggleComplete(task._id)}/> \r\n                : \r\n                <img className=\"ii\" src={complete} onClick={() => handleToggleComplete(task._id)}/>}\r\n              <img className=\"ii\" src={del} height={\"50px\"} \r\n              style={{marginLeft : \"10px\"}}\r\n              onClick={() => handleDeleteTask(task._id)}/>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TaskList;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}